diff -Naur wapd-0.9-patch1-orig/Makefile wapd-0.9-patch1/Makefile
--- wapd-0.9-patch1-orig/Makefile	2008-01-16 16:29:10.000000000 +0100
+++ wapd-0.9-patch1/Makefile	2008-06-21 09:50:45.000000000 +0200
@@ -16,12 +16,12 @@
 ### The C++ compiler and options:
 
 CXX      ?= g++
-CXXFLAGS ?= -O2 -Wall -Woverloaded-virtual
+CXXFLAGS ?= -fPIC -O2 -Wall -Woverloaded-virtual
 
 ### The directory environment:
 
-VDRDIR = ../../..
-LIBDIR = ../../lib
+VDRDIR ?= ../../..
+LIBDIR ?= ../../lib
 TMPDIR = /tmp
 
 ### Enable this for debugging
@@ -77,7 +77,7 @@
 
 libvdr-$(PLUGIN).so: $(OBJS)
 	$(CXX) $(CXXFLAGS) -shared $(OBJS) $(LIBS) -o $@
-	@cp $@ $(LIBDIR)/$@.$(APIVERSION)
+	@cp -f $@ $(LIBDIR)/$@.$(APIVERSION)
 
 wappasswd: wappasswd.c
 	$(CXX) $(CXXFLAGS) $(LIBS) -o wappasswd wappasswd.c
diff -Naur wapd-0.9-patch1-orig/README wapd-0.9-patch1/README
--- wapd-0.9-patch1-orig/README	2008-06-08 11:13:22.000000000 +0200
+++ wapd-0.9-patch1/README	2008-06-21 09:52:11.000000000 +0200
@@ -49,7 +49,7 @@
 Files:
 ------------------------------------------------------------------------------
 
-The plugin needs 2 files under ''/video/plugins'' (default):
+The plugin needs 2 files under ''/video/plugins/wapd'' (default):
 
 ''waphosts'' controls host based access and is similar to ''svdrphosts.conf''
 
diff -Naur wapd-0.9-patch1-orig/wapd.c wapd-0.9-patch1/wapd.c
--- wapd-0.9-patch1-orig/wapd.c	2008-01-13 13:30:24.000000000 +0100
+++ wapd-0.9-patch1/wapd.c	2008-06-21 09:52:55.000000000 +0200
@@ -85,8 +85,8 @@
 bool cPluginWapd::Start(void)
 {
   RegisterI18n(Phrases);
-  if (WapHosts.Load(AddDirectory(ConfigDirectory(), "waphosts"), true)
-     && WapAccess.Load(AddDirectory(ConfigDirectory(), "wapaccess"), true)
+  if (WapHosts.Load(AddDirectory(ConfigDirectory("wapd"), "waphosts"), true)
+     && WapAccess.Load(AddDirectory(ConfigDirectory("wapd"), "wapaccess"), true)
      && (server = new cWapServer(tcpport)))
      return true;
   return false;
