diff -Naur uclibc_build_env_orig/configs/siemens-linux-kernel/m740.config uclibc_build_env/configs/siemens-linux-kernel/m740.config
--- uclibc_build_env_orig/configs/siemens-linux-kernel/m740.config	Fri Jan 25 12:37:18 2008
+++ uclibc_build_env/configs/siemens-linux-kernel/m740.config	Wed Mar 19 12:12:45 2008
@@ -634,9 +634,9 @@
 #
 # CONFIG_CODA_FS is not set
 # CONFIG_INTERMEZZO_FS is not set
-CONFIG_NFS_FS=y
-CONFIG_NFS_V3=y
-CONFIG_NFS_DIRECTIO=y
+# CONFIG_NFS_FS is not set
+# CONFIG_NFS_V3 is not set
+# CONFIG_NFS_DIRECTIO is not set
 # CONFIG_ROOT_NFS is not set
 # CONFIG_NFSD is not set
 # CONFIG_NFSD_V3 is not set
@@ -644,7 +644,7 @@
 CONFIG_SUNRPC=y
 CONFIG_LOCKD=y
 CONFIG_LOCKD_V4=y
-CONFIG_CIFS=m
+# CONFIG_CIFS is not set
 # CONFIG_CIFS_STATS is not set
 # CONFIG_CIFS_POSIX is not set
 # CONFIG_SMB_FS is not set
diff -Naur uclibc_build_env_orig/configs/siemens-linux-kernel/m750s.config uclibc_build_env/configs/siemens-linux-kernel/m750s.config
--- uclibc_build_env_orig/configs/siemens-linux-kernel/m750s.config	Fri Jan 25 12:37:18 2008
+++ uclibc_build_env/configs/siemens-linux-kernel/m750s.config	Wed Mar 19 12:13:41 2008
@@ -634,9 +634,9 @@
 #
 # CONFIG_CODA_FS is not set
 # CONFIG_INTERMEZZO_FS is not set
-CONFIG_NFS_FS=y
-CONFIG_NFS_V3=y
-CONFIG_NFS_DIRECTIO=y
+# CONFIG_NFS_FS is not set
+# CONFIG_NFS_V3 is not set
+# CONFIG_NFS_DIRECTIO is not set
 # CONFIG_ROOT_NFS is not set
 # CONFIG_NFSD is not set
 # CONFIG_NFSD_V3 is not set
@@ -644,7 +644,7 @@
 CONFIG_SUNRPC=y
 CONFIG_LOCKD=y
 CONFIG_LOCKD_V4=y
-CONFIG_CIFS=m
+# CONFIG_CIFS is not set
 # CONFIG_CIFS_STATS is not set
 # CONFIG_CIFS_POSIX is not set
 # CONFIG_SMB_FS is not set
diff -Naur uclibc_build_env_orig/make-incs/siemens-linux-kernel.mk uclibc_build_env/make-incs/siemens-linux-kernel.mk
--- uclibc_build_env_orig/make-incs/siemens-linux-kernel.mk	2008-08-31 15:46:46.000000000 +0200
+++ uclibc_build_env/make-incs/siemens-linux-kernel.mk	2008-09-06 11:19:57.000000000 +0200
@@ -56,16 +56,6 @@
 CLEAN_RULES += clean-siemens-linux-kernel
 DISTCLEAN_RULES += distclean-siemens-linux-kernel
 
-SIEMENS-LINUX-KERNEL_MODLST := \
-   lib/modules/2.4.21-xfs/kernel/fs/cifs/cifs.o 
-
-SIEMENS-LINUX-KERNEL_DIRLST := \
-   lib/modules \
-   lib/modules/2.4.21-xfs \
-   lib/modules/2.4.21-xfs/kernel \
-   lib/modules/2.4.21-xfs/kernel/fs \
-   lib/modules/2.4.21-xfs/kernel/fs/cifs 
-
 #
 # unpack siemens linux kernel
 #
@@ -73,7 +63,6 @@
 $(STAGEFILES_DIR)/.siemens-linux-kernel_$(CONFIG_M7X0_TYPE)_unpacked: \
       $(wildcard $(SIEMENS-LINUX-KERNEL_PATCHES_DIR)/common/*.patch) \
       $(wildcard $(SIEMENS-LINUX-KERNEL_PATCHES_DIR)/$(CONFIG_M7X0_TYPE)/*.patch) \
-      $(SIEMENS-LINUX-KERNEL_PATCHES_DIR)/common/cifs-fs.tar.bz2 \
       $$(SIEMENS-LINUX-KERNEL_DEPS) $(SIEMENS-LINUX-KERNEL_CONFIG)
 	-$(RM) -rf $(SIEMENS-LINUX-KERNEL_DIR)
 	$(BZCAT) $(SIEMENS-GPL-SRC_DLFILE) | $(TAR) -C $(BUILD_DIR) \
@@ -89,9 +78,6 @@
 
 $(STAGEFILES_DIR)/.siemens-linux-kernel_$(CONFIG_M7X0_TYPE)_patched: \
       $(STAGEFILES_DIR)/.siemens-linux-kernel_$(CONFIG_M7X0_TYPE)_unpacked
-# CIFS for 2.4er kernel (it's much easier to handle as smbfs and faster)
-	$(BZCAT) $(SIEMENS-LINUX-KERNEL_PATCHES_DIR)/common/cifs-fs.tar.bz2 | \
-		 $(TAR) -C $(SIEMENS-LINUX-KERNEL_DIR) -f -
 # Needed patches to get kernel compiling
 	$(PATCHES_DIR)/patch-kernel.sh $(SIEMENS-LINUX-KERNEL_DIR) \
 		$(SIEMENS-LINUX-KERNEL_PATCHES_DIR)/common
@@ -199,19 +185,9 @@
 # generate rootfs file list
 #
 
-siemens-linux-kernel_lst_dir = \
-  $(ECHO) "$(1)       -                 d 755 0 0 - - - - -";
-
-siemens-linux-kernel_lst_mod = \
-  $(ECHO) "$(1) $(M7X0_KERNEL_DIR)/$(1) f 755 0 0 - - - - -";
-
 $(FILELIST_DIR)/siemens-linux-kernel_$(CONFIG_M7X0_TYPE).lst: \
       $(STAGEFILES_DIR)/.siemens-linux-kernel_$(CONFIG_M7X0_TYPE)_installed
-	($(foreach dir,$(SIEMENS-LINUX-KERNEL_DIRLST),\
-		$(call siemens-linux-kernel_lst_dir,$(dir))) \
-	 $(foreach mod,$(SIEMENS-LINUX-KERNEL_MODLST),\
-		$(call siemens-linux-kernel_lst_mod,$(mod)))) \
-			> $(FILELIST_DIR)/siemens-linux-kernel_$(CONFIG_M7X0_TYPE).lst
+	$(TOUCH) $(FILELIST_DIR)/siemens-linux-kernel_$(CONFIG_M7X0_TYPE).lst
 
 .PHONY: clean-siemens-linux-kernel distclean-siemens-linux-kernel
 
