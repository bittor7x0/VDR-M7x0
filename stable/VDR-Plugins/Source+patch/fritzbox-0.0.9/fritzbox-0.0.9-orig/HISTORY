VDR Plugin 'fritzbox' Revision History
--------------------------------------

2007-04-22: Version 0.0.1

- Initial version.

2007-05-02: Version 0.0.2

- Made TCP connection handling more robust and simpler
- extended the compatibility list in README
- replaced vector::at in favor to vector[] to avoid possible problems 
  with gcc-2.95
  (thanks goes to Tobias [1] for testing this)
- made plugin compatible to LinVDR 0.7
  please apply provided patch file linvdr-0.7-fritzbox-*.diff
  (patch provided by Tobias [1])
- main menu entry can now be hidden
  (suggested by pimboli [2])
- german umlauts and other sonderzeichen are now displayed correctly
  (bug found by Christian [3])
- showing line numer on incoming VoIP call
- showing msn on incoming ISDN call
  (suggested by Christian [3])
- added a hint about dialing "#96*5*" with an ISDN telephone to README
  (problem reported by mentox [4])
- displaying incoming calls can now be switched off in setup
  (suggested by Markus [5])
- fixed MuteOnCall with multiple concurrent incoming calls,
  i.e. VDR is unmuted, when the last incoming call ends
- added russian translation
  (provided by neptunvasja [6])
  
2007-06-03: Version 0.0.3
  
- fixed a typo in "Call from unknown extension" translation
- added an include for better gcc-2.95 compatibility
- &amp; is now correctly displayed in telephone book
- extended README to include new features
- extended README to include some hints for ISDN telephones
  (provided by Strider [7])
- fixed handling of mute on call, such that outgoing calls
  can no longer interfere with this
  (reported by KingJerry[8])
- fixed a bug in the call list parser that caused invalid entries
- fixed a bug in replaceEntities() on 64-bit systems
  (patch provided by Bernd [9])
- replaceEntities() now replaces multiple occurences of the same
  entity (reported by Bernd [9])
- calls are now repeatedly shown until the call is accepted or 
  the caller hangs up (as suggested by Strider [7])
- pressing [OK] in the call lists now initiates a call as in the
  phone book menu
- implemented MSN-Filter: only calls to certain MSNs are shown
  (suggested by Christian [3])
- added local number to call lists. This can be configured in the 
  plugin's setup
  (suggested by Christian [3])
- the password of the Fritz!Box is no longer displayed in the plugin's
  setup page - instead all characters are replaced by an '*'
- fixed a bug in auto muting, that caused possible unmuting 
  without a prior auto mute    
- updated russian translations
  (provided by neptunvasja [6])

2007-06-24: Version 0.0.4

- added french translation
  (provided by Patrice [10])
- fix for outdated call lists
  (suggested by Bernd [9] and many others with similar suggestions)
- implemented new "pause on call" feature, that pauses a running 
  replay during an incoming call
  (suggested by Reinhard [11])
- reduced syslog-verbosity when loading call-lists or phonebook
- Fritz!Box now recognizes the system codepage when displaying phonebook
  and call lists (only with VDR >= 1.5.3)  

2007-07-22: Version 0.0.5

- fixed translation of "PB"
- failed logins to the Fritz!Box are now logged to syslog 
- support for special characters in Fritz!Box password
- fixed "pause on call"
  - do not start a live pause on incoming call
  - pause only when a replay is running and not paused
  - do not stop a replay on hangup
  (reported by and suggestions from Bernd [9], Dirk [12] and Oktay [13])
  
2007-09-04: Version 0.0.6
- added turkish translation
  (provided by Oktay [13])
- added support for gettext (VDR >= 1.5.7),
  plugin is still compatible with older versions 
- MSN filter is now also applied to all call lists
  (reported by Saxman2k [14])
- implemented a submenu, that shows all details of a specific call
  in any call list
- dropped duration column in call lists (as this is available 
  on the detail screen now)
- dynamic column layout in call lists results in better 
  usage of the osd screen
- new setup option "Group call lists by date" results in
  even better usage of the osd screen :-)   
- Modified support for gettext (VDR >= 1.5.8)
  plugin is still compatible with older versions
- rearranged targets in the makefile
  according to a discussion in the VDR mailing list
- corrected a call to memset in fritzlistener.c
  (patch provided by Axel [15])
- added some missing close-calls to prevent VDR from crashing
  with error message "too many open files"
  (patch provided by Axel [15])
- reducing network load by resolving Fritz!Box's ip address 
  only once
  (patch provided by Axel [15])
- switched name and number column in the phone book;
  width of the first column is calculated dynamically
- using the new trVDR() macro for core translations
  plugin is still compatible with older versions

2007-09-26: Version 0.0.7
- fixed wrong display of call details when date separator is enabled or
  call lists are filtered
  (reported by Saxman2k [14])
- now using std::string::erase for compatibility with old libstdc++2.10 
- added some includes for better gcc-2.95 compatibility
  (patch provided by Tobias [1])

2007-11-04: Version 0.0.8
- code restructuring and cleanup, preparation for multiple phonebooks etc.
- resorted includes for gcc-2.95
- in cMenuCallDetail::SetText(): std::string::npos is not a uint,
  using std::string::size_type instead
  (patch provided by Axel [15])
- cFritzListener::Action(): using -1 in memset to be compatible with
  its arg type
  (patch provided by Axel [15])
- added missing copyright notices in all sources
  (reported by Thomas [16])
- implemented reverse lookup phonebook via www.das-oertliche.de
- new setup-page for configuring a list of used phonebooks and the order in which
  they are accessed while resolving numbers to names; in the phonebook view
  the first displayable phonebook in this list is shown
- adapted README accordingly
- the call list is now fetched asynchroneously at startup,
  avoiding the delay in the menu; to keep it up to date, it is
  reloaded after every call automatically
- new makefile target "srcdoc" to generate source code documentation
- Improved the 'i18n' target in the Makefile to avoid unnecessary work as suggested by
  vdr-1.5.11
  
2007-11-11: Version 0.0.9
- added cHttpClient for handling HTTP requests; removing end of file detection 
  in caller classes
- improved cCallList parser to work around lines starting with '#'
  (as found in current Fritz!Box Labor Firmware version)
- call list now works with Fritz!Box Beta-Firmware 29.04.44-9163
  (reported by Ryker [20])
- this may fix problems with firmware CH/A FRITZ!Box Fon WLAN 7140 Version 39.04.43 too
  (reported by Joe [19])
- Fritz!Box phonebook supports new Fritz!Box Beta-Firmware 29.04.44-9163
  (only one number per name is supported for now)
- all communication to the Fritz!Box Webinterface is now protected with a mutex to
  avoid conflicts of concurrent request from different threads
- retry delay on communication failures is now increased up to one hour
  to avoid flooding the syslog 
- added missing translation in i18n.c to support still-popular old versions of vdr 
  (reported by Torsten [17])
- some firmware version do not sort the telephone book, the plugin now sorts the 
  entries itself
- removing '!' prefix when displaying Fritz!Box telephonebook VIP-entries
  (suggested by Oliver [18])
- supporting multiple phone numbers per entry in newest Fritz!Box firmware versions
  > added new column in phonebook view, marking (H)ome, (M)obile and (W)ork
  > on incoming calls this type is shown as well
  > this is ignored for older firmware versions	 
- fixed a segfault when accessing the plugins main menu with no telephonebook selected
  (reported by Thomas [16])
- the call details menu now issues a reverse lookup if the name of the caller 
  is not known yet
  
--- References ---

[ 1] http://vdr-portal.de/board/profile.php?userid=7164
     http://www.vdr-online.org/
[ 2] http://vdr-portal.de/board/profile.php?userid=4808
[ 3] http://vdr-portal.de/board/profile.php?userid=9345
[ 4] http://vdr-portal.de/board/profile.php?userid=1293
[ 5] http://vdr-portal.de/board/profile.php?userid=8180
[ 6] http://vdr-portal.de/board/profile.php?userid=11837
[ 7] http://vdr-portal.de/board/profile.php?userid=7641
[ 8] http://vdr-portal.de/board/profile.php?userid=2604
[ 9] http://vdr-portal.de/board/profile.php?userid=9009
[10] http://vdr-portal.de/board/profile.php?userid=3409
[11] http://vdr-portal.de/board/profile.php?userid=6231
     http://home.vrweb.de/~rnissl/
[12] http://vdr-portal.de/board/profile.php?userid=8480
[13] Oktay Yolgecen <Oktay_73@yahoo.de>
[14] http://vdr-portal.de/board/profile.php?userid=1551
[15] Axel Naumann <axel-naumann@gmx.de>
[16] Thomas Günther <tom@toms-cafe.de>
     http://vdr-portal.de/board/profile.php?userid=4452
[17] http://vdr-portal.de/board/profile.php?userid=16817
[18] Oliver Linsenmaier <oliver.linsenmaier@googlemail.com>
[19] http://vdr-portal.de/board/profile.php?userid=99
[20] http://vdr-portal.de/board/profile.php?userid=15737
